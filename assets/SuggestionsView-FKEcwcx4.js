import{_,o as t,c as r,a as n,r as A,d as p,b as W,F as b,e as $,f as d,u as j,g as M,h as m,n as U,i as w,T as q,p as x,j as T,k as G,l as f,m as Q,s as B,q as z,t as L,v as g,w as v,x as O,y as X,z as k,A as Z,B as J,C as K}from"./index-9cmW35FG.js";import{U as Y,I as ee,S as se,a as te}from"./SuggestionsListItemSkeleton-kclbIsM8.js";import{u as V}from"./statuses-jqiJzWXE.js";import{c as F,M as C,L as E,a as R,b as N,A as oe,U as P,u as ae,d as ne}from"./feedback-2ZQBmMjQ.js";import{_ as ce}from"./icon-check-cfLfX9pg.js";const le={},ie={class:"app-layout"},re={class:"app-layout__col-1"},ue={class:"app-layout__col-2"};function _e(e,s){return t(),r("section",ie,[n("div",re,[A(e.$slots,"sidebar",{},void 0,!0)]),n("div",ue,[A(e.$slots,"main",{},void 0,!0)])])}const de=_(le,[["render",_e],["__scopeId","data-v-9e70f497"]]),ge={class:"widget-categories"},pe=p({__name:"WidgetCategories",emits:["filter"],setup(e,{emit:s}){const o=s,a=W([{id:1,name:"all",label:"All",isActive:!0},{id:2,name:"ui",label:"UI",isActive:!1},{id:3,name:"ux",label:"UX",isActive:!1},{id:4,name:"enhancement",label:"Enhancement",isActive:!1},{id:5,name:"bug",label:"Bug",isActive:!1},{id:6,name:"feature",label:"Feature",isActive:!1}]);function c(l){a.forEach(u=>{u.isActive=l.id===u.id}),o("filter",l.name)}return(l,u)=>(t(),r("div",ge,[(t(!0),r(b,null,$(a,i=>(t(),d(Y,{key:i.id,name:i.label,"is-active":i.isActive,"is-clickable":"",onClick:h=>c(i)},null,8,["name","is-active","onClick"]))),128))]))}}),me=_(pe,[["__scopeId","data-v-0688bb51"]]),D=e=>(x("data-v-8d50d79e"),e=e(),T(),e),he={class:"widget-top"},fe=D(()=>n("div",{class:"widget-top__content"},[n("h2",{class:"h2 widget-top__title"},"Frontend Mentor"),n("h2",{class:"widget-top__subtitle"},"Feedback Board")],-1)),ve=D(()=>n("span",{class:"hamburger-box"},[n("span",{class:"hamburger-inner"})],-1)),be=[ve],Se=p({__name:"WidgetFeedbackBoard",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const s=j("(max-width: 767px)"),o=M(e,"modelValue"),a=()=>o.value=!o.value,c=()=>o.value=!1;return(l,u)=>(t(),r(b,null,[n("div",he,[fe,m(s)?(t(),r("button",{key:0,class:U(["hamburger hamburger--collapse",{"is-active":o.value}]),type:"button",onClick:a},be,2)):w("",!0)]),(t(),d(q,{to:"#app"},[m(s)&&o.value?(t(),r("div",{key:0,class:"backdrop",onClick:c})):w("",!0)]))],64))}}),ye=_(Se,[["__scopeId","data-v-8d50d79e"]]);function ke(e){return(s,o)=>{const a=s.comments?F(s.comments):0,c=o.comments?F(o.comments):0;return e===C?o.upvotes-s.upvotes:e===E?s.upvotes-o.upvotes:e===R?c-a:e===N?a-c:0}}function $e(e){return s=>e==="all"||e===s.category}const S=G("suggestions",()=>{const e=f(!0),s=f(null),o=f([]),a=f(C),c=f("all"),l=Q(()=>o.value.length);async function u(h={filterBy:"all",sortBy:C}){e.value=!0;try{const H=await(await fetch(oe)).json();return a.value=h.sortBy,c.value=h.filterBy,H.filter($e(h.filterBy)).sort(ke(h.sortBy))}catch(y){s.value="Failed to fetch any suggestions",console.log(y)}finally{e.value=!1}}async function i(h={}){const y=await u({sortBy:h.sortBy??a.value,filterBy:h.filterBy??c.value});y&&(o.value=y)}return{suggestions:o,suggestionsAmount:l,loader:e,error:s,filterBy:c,sortBy:a,fetchSuggestions:u,loadSuggestionsPageDataToStore:i}}),we=e=>(x("data-v-931c5afe"),e=e(),T(),e),Ce={class:"widget-roadmap"},Be={class:"widget-roadmap__top"},xe=we(()=>n("h3",{class:"widget-roadmap__title h3"},"Roadmap",-1)),Te={class:"feedback-statuses"},Ie={key:0,class:"feedback-statuses__item"},Ae={class:"feedback-statuses__label b1"},Ve={class:"feedback-statuses__amount b1"},Fe=p({__name:"WidgetRoadmap",setup(e){const{statuses:s}=B(V()),{calculateStatusesAmount:o}=V(),{fetchSuggestions:a}=S();return z(async()=>{const c=await a();c&&o(c)}),(c,l)=>{const u=L("RouterLink");return t(),r("div",Ce,[n("div",Be,[xe,g(u,{class:"widget-roadmap__link link",to:"/"},{default:v(()=>[O("View")]),_:1})]),n("ul",Te,[(t(!0),r(b,null,$(m(s),i=>(t(),r(b,{key:i.status},[i.status!=="suggestion"?(t(),r("li",Ie,[n("span",{class:"feedback-statuses__icon",style:X({background:i.color})},null,4),n("div",Ae,k(i.label),1),n("div",Ve,k(i.amount),1)])):w("",!0)],64))),128))])])}}}),Me=_(Fe,[["__scopeId","data-v-931c5afe"]]),Ue=p({__name:"TheSidebar",setup(e){const{loadSuggestionsPageDataToStore:s}=S();function o(c){s({filterBy:c})}const a=f(!1);return(c,l)=>(t(),r("aside",{class:U(["sidebar",{"is-open":a.value}])},[g(ye,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=u=>a.value=u)},null,8,["modelValue"]),g(me,{onFilter:o}),g(Me)],2))}}),ze=_(Ue,[["__scopeId","data-v-17c218cd"]]),Le={},Oe={width:"23",height:"24",xmlns:"http://www.w3.org/2000/svg"},Ee=n("path",{d:"M11.5 2.274c2.237 0 4.339.854 5.923 2.408a8.123 8.123 0 012.465 5.839 8.084 8.084 0 01-1.7 4.979 8.457 8.457 0 01-3.652 2.71l-.31.112.003.826h.369c.262 0 .475.21.475.469a.47.47 0 01-.39.46l-.085.008h-.365l.004 1.02h.36c.263 0 .476.21.476.469a.47.47 0 01-.39.461l-.085.008h-.358l.006 1.487a.466.466 0 01-.381.46l-.094.01H9.23a.478.478 0 01-.466-.378l-.01-.092.006-1.487h-.357a.472.472 0 01-.475-.47.47.47 0 01.39-.46l.085-.008h.361l.004-1.02h-.365a.472.472 0 01-.475-.468.47.47 0 01.39-.462l.085-.007h.368l.004-.826a8.452 8.452 0 01-3.996-2.867 8.08 8.08 0 01-1.666-5.056c.032-2.127.923-4.152 2.511-5.7 1.508-1.471 3.448-2.322 5.493-2.416l.324-.009h.06zm1.791 19.769H9.709l-.004 1.02h3.59l-.004-1.02zm-.007-1.958H9.716l-.003 1.02h3.574l-.003-1.02zM11.5 3.212h-.054c-3.946.027-7.327 3.325-7.384 7.2-.048 3.266 2.14 6.192 5.322 7.118.174.05.3.193.332.364l.008.088-.004 1.166h3.56l-.004-1.166a.47.47 0 01.34-.452c3.134-.912 5.323-3.794 5.323-7.01a7.197 7.197 0 00-2.185-5.173A7.453 7.453 0 0011.5 3.212zm.829 1.782a.4.4 0 01.401.397v.322c.48.12.932.307 1.346.552l.228-.226a.405.405 0 01.569 0L16.046 7.2a.393.393 0 010 .56l-.23.228c.247.41.437.858.557 1.333h.323a.4.4 0 01.402.397v1.645a.4.4 0 01-.402.396h-.323c-.12.476-.31.924-.557 1.333l.23.228a.393.393 0 010 .56l-1.173 1.163a.405.405 0 01-.57 0l-.227-.227a5.02 5.02 0 01-1.346.553v.322a.4.4 0 01-.401.396H10.67a.4.4 0 01-.402-.396v-.322a5.022 5.022 0 01-1.345-.553l-.228.227a.405.405 0 01-.569 0L6.954 13.88a.393.393 0 010-.56l.23-.228a4.924 4.924 0 01-.557-1.333h-.324a.4.4 0 01-.401-.396V9.719a.4.4 0 01.401-.397h.324c.12-.475.31-.923.557-1.333l-.23-.228a.393.393 0 010-.56L8.127 6.04a.405.405 0 01.569 0l.228.226a5.021 5.021 0 011.345-.552V5.39a.4.4 0 01.402-.397zM11.5 7.721c-1.572 0-2.846 1.263-2.846 2.82 0 1.558 1.274 2.82 2.846 2.82s2.846-1.262 2.846-2.82c0-1.557-1.274-2.82-2.846-2.82zm11.025 4.152c.262 0 .475.21.475.469a.47.47 0 01-.39.461l-.085.008h-.498a.472.472 0 01-.475-.469.47.47 0 01.39-.461l.085-.008h.498zm-21.552 0c.262 0 .475.21.475.469a.47.47 0 01-.39.461l-.085.008H.475A.472.472 0 010 12.342a.47.47 0 01.39-.461l.085-.008h.498zM3.112 3.45l.074.06.46.451c.185.183.186.48 0 .663a.476.476 0 01-.596.062l-.075-.06-.459-.451a.465.465 0 01-.001-.663.48.48 0 01.597-.062zm17.373.062c.162.16.182.408.06.59l-.061.073-.46.45a.476.476 0 01-.67 0 .464.464 0 01-.06-.59l.06-.074.46-.45a.48.48 0 01.671 0zM11.5 0c.233 0 .427.166.467.384l.008.085v.49a.472.472 0 01-.475.468.473.473 0 01-.467-.384l-.008-.084v-.49c0-.26.213-.469.475-.469z",fill:"#FFF","fill-rule":"nonzero"},null,-1),Re=[Ee];function Ne(e,s){return t(),r("svg",Oe,Re)}const Pe=_(Le,[["render",Ne]]),De={},He={width:"10",height:"7",xmlns:"http://www.w3.org/2000/svg"},We=n("path",{d:"M1 1l4 4 4-4","stroke-width":"2",fill:"none","fill-rule":"evenodd"},null,-1),je=[We];function qe(e,s){return t(),r("svg",He,je)}const Ge=_(De,[["render",qe]]),Qe={type:"button",class:"trigger-button"},Xe={class:"dropdown-list"},Ze=["onClick"],Je={key:0,class:"dropdown-list__icon",src:ce,alt:"Check icon"},Ke=p({__name:"SortBySelect",props:{modelValue:{default:""},modelModifiers:{}},emits:["update:modelValue"],setup(e){const s=M(e,"modelValue"),o=f([C,E,R,N]),a=f(!1);return(c,l)=>{const u=L("dropdown-menu");return t(),d(u,{isOpen:a.value,onOpened:l[0]||(l[0]=i=>a.value=!0),onClosed:l[1]||(l[1]=i=>a.value=!1),overlay:!1},{trigger:v(()=>[n("button",Qe,[O(" Sort by Â "),n("span",null,k(s.value),1),a.value?(t(),d(ee,{key:0,class:"trigger-button__arrow"})):(t(),d(Ge,{key:1,class:"trigger-button__arrow"}))])]),body:v(()=>[n("ul",Xe,[(t(!0),r(b,null,$(o.value,i=>(t(),r("li",{class:"dropdown-list__item",key:i},[n("a",{href:"#",class:"dropdown-list__text",onClick:h=>s.value=i},k(i),9,Ze),i===s.value?(t(),r("img",Je)):w("",!0)]))),128))])]),_:1},8,["isOpen"])}}}),Ye=_(Ke,[["__scopeId","data-v-0340f7f6"]]),es={class:"suggestions-header"},ss={class:"suggestions-header__count h3"},ts=p({__name:"SuggestionsHeader",setup(e){const{suggestionsAmount:s,sortBy:o}=B(S()),{loadSuggestionsPageDataToStore:a}=S();function c(u){a({sortBy:u})}function l(){Z.push("/create")}return(u,i)=>(t(),r("header",es,[g(Pe,{class:"suggestions-header__icon"}),n("div",ss,k(m(s))+" Suggestions",1),g(Ye,{"model-value":m(o),"onUpdate:modelValue":c},null,8,["model-value"]),g(P,{text:"+ Add Feedback",class:"suggestions-header__btn",onClick:l})]))}}),os=_(ts,[["__scopeId","data-v-d1e85ae4"]]),as=p({__name:"SuggestionsList",setup(e){const{suggestions:s}=B(S()),{upvoteFeedback:o}=ae();return(a,c)=>(t(),d(J,{class:"suggestions-list",name:"list",tag:"ul"},{default:v(()=>[(t(!0),r(b,null,$(m(s),l=>(t(),d(se,{key:l.id,suggestion:l,onUpvote:m(o)},null,8,["suggestion","onUpvote"]))),128))]),_:1}))}}),ns=_(as,[["__scopeId","data-v-16d23ba2"]]),cs="/product-feedback/assets/illustration-empty-6fFbLZNp.svg",I=e=>(x("data-v-b01e2a38"),e=e(),T(),e),ls={class:"suggestions-empty"},is={class:"suggestions-empty__in"},rs={class:"suggestions-empty__content"},us=I(()=>n("img",{src:cs,alt:"No feedback image"},null,-1)),_s=I(()=>n("h1",{class:"suggestions-empty__title h1"},"There is no feedback yet.",-1)),ds=I(()=>n("p",{class:"suggestions-empty__description b1"}," Got a suggestion? Found a bug that needs to be squashed? We love hearing about new ideas to improve our app. ",-1)),gs=p({__name:"SuggestionsEmpty",setup(e){return(s,o)=>(t(),r("section",ls,[n("div",is,[n("div",rs,[us,_s,ds,g(P,{text:"+ Add Feedback"})])])]))}}),ps=_(gs,[["__scopeId","data-v-b01e2a38"]]),ms={class:"skeleton-list"},hs=p({__name:"SuggestionsSkeleton",setup(e){return(s,o)=>(t(),r("ul",ms,[(t(),r(b,null,$(5,a=>g(te,{key:a})),64))]))}}),fs=_(hs,[["__scopeId","data-v-bd17cdb8"]]),vs={class:"main"},bs=p({__name:"TheSuggestions",setup(e){const{suggestions:s,loader:o,error:a}=B(S()),{loadCurrentUserToStore:c}=ne(),{loadSuggestionsPageDataToStore:l}=S();return z(()=>{c(),l({filterBy:"all"})}),(u,i)=>(t(),d(de,null,{sidebar:v(()=>[g(ze)]),main:v(()=>[n("main",vs,[g(os),g(K,{name:"fade",mode:"out-in"},{default:v(()=>[m(o)||m(a)?(t(),d(fs,{key:0})):m(s).length?(t(),d(ns,{key:1})):(t(),d(ps,{key:2}))]),_:1})])]),_:1}))}}),Ss=_(bs,[["__scopeId","data-v-600f580e"]]),Bs=p({__name:"SuggestionsView",setup(e){return(s,o)=>(t(),d(Ss))}});export{Bs as default};
