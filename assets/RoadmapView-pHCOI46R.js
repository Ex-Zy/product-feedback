import{d as b,o,c as m,e as u,l as c,a1 as V,a as v,t as p,_ as x,a2 as A,B as R,F as k,b as C,v as L,a3 as D,w as _,m as y,P as G,g as T,n as w,s as K,y as M,q as N,i as g,k as S,T as z,a4 as $,a5 as I}from"./index-QCYlmAW5.js";import{_ as E}from"./IconArrowLeft.vue_vue_type_script_setup_true_lang-Y6uosgEZ.js";import{U as B,u as P}from"./feedback-wpz1i0N8.js";import{S as q}from"./SuggestionsListItem-MIOtKQym.js";import{u as Q}from"./suggestions-aROym1tP.js";const W={class:"kanban-column__header"},j={class:"kanban-column__title h3"},J={class:"kanban-column__description b1"},O=b({__name:"ColumnHeader",props:{column:{}},setup(r){const e=r;return(a,i)=>(o(),m("header",W,[u(c(V)),v("div",j,p(e.column.name)+" ("+p(e.column.items.length)+") ",1),v("div",J,p(e.column.description),1)]))}}),X=x(O,[["__scopeId","data-v-16b5b5a4"]]),Y={class:"tabs-header"},Z=["onClick"],ee=b({__name:"TabsHeader",props:{columns:{},active:{}},emits:["click"],setup(r,{emit:e}){A(t=>({a80417fe:s.value}));const a=r,i=e,s=R(()=>{var t;return(t=a.columns.find(f=>f.id===a.active))==null?void 0:t.color});function d(t){i("click",t)}return(t,f)=>(o(),m("nav",Y,[(o(!0),m(k,null,C(a.columns,l=>(o(),m("a",{key:l.id,href:"#",class:L(["tabs-header__link",{"is-active":l.id===a.active}]),onClick:D(n=>d(l.id),["prevent"])},p(l.name)+" ("+p(l.items.length)+")",11,Z))),128))]))}}),se=x(ee,[["__scopeId","data-v-49a5a224"]]),te={class:"suggestions-header"},ae={class:"content"},ne={class:"content__title h1"},oe=b({__name:"TheHeader",props:{title:{}},setup(r){const e=r;function a(){y.push("/create")}function i(){y.back()}return(s,d)=>(o(),m("header",te,[v("div",ae,[u(B,{class:"content__btn",type:"light",text:"Go Back",onClick:i},{default:_(()=>[u(E,{color:"#fff"})]),_:1}),v("h1",ne,p(e.title),1)]),u(B,{text:"+ Add Feedback",class:"suggestions-header__btn",onClick:a})]))}}),ie=x(oe,[["__scopeId","data-v-7aa78e09"]]);function re(r,e){function a(s){return e.filter(({status:d})=>d===s)}function i(){return r.map(s=>({...s,items:a(s.id)}))}return i()}const F=G("roadmap",()=>{const{fetchSuggestions:r}=Q(),e=T(!0),a=T(null),i=w({name:"Roadmap",columns:[{id:"planned",name:"Planned",description:"Ideas prioritized for research",color:"#F49F85",group:"items",items:[]},{id:"in-progress",name:"In-progress",description:"Currently being developed",color:"#AD1FEA",group:"items",items:[]},{id:"live",name:"Live",description:"Released features",color:"#62BCFA",group:"items",items:[]}]});async function s(){e.value=!0;try{const t=await r();return t?re(i.columns,t):void 0}catch(t){a.value="Failed to load feedback",console.log(t)}finally{e.value=!1}}async function d(){const t=await s();t&&(i.columns=t)}return{loader:e,error:a,kanban:i,fetchKanbanColumns:s,loadRoadmapToStore:d}}),ce={class:"kanban-board"},le=b({__name:"TheRoadmap",setup(r){const{kanban:e}=K(F()),{loadRoadmapToStore:a}=F();M(a);const{upvoteFeedback:i}=P(),s=w({enable:N("(max-width: 767px)"),activeTab:"in-progress"}),d=R(()=>s.enable?"x":"y");function t(f){return s.enable?f.id===s.activeTab:!0}return(f,l)=>(o(),m("div",ce,[u(ie,{title:c(e).name},null,8,["title"]),s.enable?(o(),g(se,{key:0,columns:c(e).columns,active:s.activeTab,onClick:l[0]||(l[0]=n=>s.activeTab=n)},null,8,["columns","active"])):S("",!0),u(c(I),{list:c(e).columns,"onUpdate:list":l[1]||(l[1]=n=>c(e).columns=n),axis:d.value,"lock-axis":d.value,class:"column-container","use-drag-handle":"",useWindowAsScrollContainer:""},{default:_(()=>[u(z,{name:"list"},{default:_(()=>[(o(!0),m(k,null,C(c(e).columns,(n,H)=>(o(),m(k,{key:n.id},[t(n)?(o(),g(c($),{key:0,index:H,class:"kanban-column"},{default:_(()=>[u(X,{column:n},null,8,["column"]),u(c(I),{list:n.items,"onUpdate:list":h=>n.items=h,axis:"y",group:n.group,class:"kanban-list","helper-class":"kanban-helper"},{default:_(()=>[(o(!0),m(k,null,C(n.items,(h,U)=>(o(),g(c($),{key:h.id,index:U,class:"kanban-list-item"},{default:_(()=>[u(q,{class:"kanban-list-item-inner",type:"roadmap",suggestion:h,color:n.color,onUpvote:c(i)},null,8,["suggestion","color","onUpvote"])]),_:2},1032,["index"]))),128))]),_:2},1032,["list","onUpdate:list","group"])]),_:2},1032,["index"])):S("",!0)],64))),128))]),_:1})]),_:1},8,["list","axis","lock-axis"])]))}}),ue=x(le,[["__scopeId","data-v-c20872f5"]]),be=b({__name:"RoadmapView",setup(r){return(e,a)=>(o(),g(ue))}});export{be as default};
