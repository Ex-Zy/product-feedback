import{_ as d,o,c as i,a as c,r as V,d as p,b as j,F as b,e as k,f as _,u as G,g as U,h as m,n as z,i as C,T as Q,p as B,j as F,k as E,l as v,m as X,s as $,w as Z,q as O,t as g,v as f,x as R,y as J,z as y,A as K,B as Y,C as ee}from"./index--tENdkOM.js";import{U as se,c as L,p as te,I as oe,a as D,u as ae,S as ne,b as ce,d as le}from"./SuggestionsListItemSkeleton--uBhgdvv.js";const ie={},re={class:"app-layout"},ue={class:"app-layout__col-1"},de={class:"app-layout__col-2"};function _e(e,s){return o(),i("section",re,[c("div",ue,[V(e.$slots,"sidebar",{},void 0,!0)]),c("div",de,[V(e.$slots,"main",{},void 0,!0)])])}const ge=d(ie,[["render",_e],["__scopeId","data-v-9e70f497"]]),pe={class:"widget-categories"},me=p({__name:"WidgetCategories",emits:["filter"],setup(e,{emit:s}){const t=s,a=j([{id:1,name:"all",label:"All",isActive:!0},{id:2,name:"ui",label:"UI",isActive:!1},{id:3,name:"ux",label:"UX",isActive:!1},{id:4,name:"enhancement",label:"Enhancement",isActive:!1},{id:5,name:"bug",label:"Bug",isActive:!1},{id:6,name:"feature",label:"Feature",isActive:!1}]);function l(n){a.forEach(u=>{u.isActive=n.id===u.id}),t("filter",n.name)}return(n,u)=>(o(),i("div",pe,[(o(!0),i(b,null,k(a,r=>(o(),_(se,{key:r.id,name:r.label,"is-active":r.isActive,"is-clickable":"",onClick:h=>l(r)},null,8,["name","is-active","onClick"]))),128))]))}}),he=d(me,[["__scopeId","data-v-0688bb51"]]),N=e=>(B("data-v-8d50d79e"),e=e(),F(),e),ve={class:"widget-top"},fe=N(()=>c("div",{class:"widget-top__content"},[c("h2",{class:"h2 widget-top__title"},"Frontend Mentor"),c("h2",{class:"widget-top__subtitle"},"Feedback Board")],-1)),be=N(()=>c("span",{class:"hamburger-box"},[c("span",{class:"hamburger-inner"})],-1)),Se=[be],ye=p({__name:"WidgetFeedbackBoard",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const s=G("(max-width: 767px)"),t=U(e,"modelValue"),a=()=>t.value=!t.value,l=()=>t.value=!1;return(n,u)=>(o(),i(b,null,[c("div",ve,[fe,m(s)?(o(),i("button",{key:0,class:z(["hamburger hamburger--collapse",{"is-active":t.value}]),type:"button",onClick:a},Se,2)):C("",!0)]),(o(),_(Q,{to:"#app"},[m(s)&&t.value?(o(),i("div",{key:0,class:"backdrop",onClick:l})):C("",!0)]))],64))}}),ke=d(ye,[["__scopeId","data-v-8d50d79e"]]),x="Most Upvotes",P="Least Upvotes",H="Most Comments",W="Least Comments";function $e(e){return(s,t)=>{const a=s.comments?L(s.comments):0,l=t.comments?L(t.comments):0;return e===x?t.upvotes-s.upvotes:e===P?s.upvotes-t.upvotes:e===H?l-a:e===W?a-l:0}}function we(e){return s=>e==="all"||e===s.category}const S=E("suggestions",()=>{const e=v(!0),s=v(null),t=v([]),a=v(x),l=v("all"),n=X(()=>t.value.length);async function u(h={filterBy:"all",sortBy:x},w=800){var T;e.value=!0;try{const A=await new Promise((q,ws)=>{setTimeout(()=>q(te),w)});return a.value=h.sortBy,l.value=h.filterBy,(T=A==null?void 0:A.filter(we(h.filterBy)))==null?void 0:T.sort($e(h.sortBy))}catch(M){s.value="Failed to fetch any suggestions",console.log(M)}finally{e.value=!1}}async function r(h={}){const w=await u({sortBy:h.sortBy??a.value,filterBy:h.filterBy??l.value});w&&(t.value=w)}return{suggestions:t,suggestionsAmount:n,loader:e,error:s,filterBy:l,sortBy:a,fetchSuggestions:u,loadSuggestionsPageDataToStore:r}}),Ce=E("statuses",()=>{const{suggestions:e}=$(S()),s=v([{status:"planned",amount:0,name:"planned",label:"Planned",color:"#F49F85"},{status:"in-progress",amount:0,name:"in-progress",label:"In-progress",color:"#AD1FEA"},{status:"live",amount:0,name:"live",label:"Live",color:"#62BCFA"},{status:"suggestion",amount:0,name:"suggestion",label:"Suggestion",color:""}]);Z(t);function t(){s.value=s.value.map(a=>{const l=e.value.filter(n=>n.status===a.status).length;return{...a,amount:l}})}return{statuses:s,calculateStatusesAmount:t}}),xe=e=>(B("data-v-5eb81319"),e=e(),F(),e),Ae={class:"widget-roadmap"},Be={class:"widget-roadmap__top"},Fe=xe(()=>c("h3",{class:"widget-roadmap__title h3"},"Roadmap",-1)),Ie={class:"feedback-statuses"},Te={key:0,class:"feedback-statuses__item"},Me={class:"feedback-statuses__label b1"},Ve={class:"feedback-statuses__amount b1"},Le=p({__name:"WidgetRoadmap",setup(e){const{statuses:s}=$(Ce());return(t,a)=>{const l=O("RouterLink");return o(),i("div",Ae,[c("div",Be,[Fe,g(l,{class:"widget-roadmap__link link",to:"/"},{default:f(()=>[R("View")]),_:1})]),c("ul",Ie,[(o(!0),i(b,null,k(m(s),n=>(o(),i(b,{key:n.status},[n.status!=="suggestion"?(o(),i("li",Te,[c("span",{class:"feedback-statuses__icon",style:J({background:n.color})},null,4),c("div",Me,y(n.label),1),c("div",Ve,y(n.amount),1)])):C("",!0)],64))),128))])])}}}),Ue=d(Le,[["__scopeId","data-v-5eb81319"]]),ze=p({__name:"TheSidebar",setup(e){const{loadSuggestionsPageDataToStore:s}=S();function t(l){s({filterBy:l})}const a=v(!1);return(l,n)=>(o(),i("aside",{class:z(["sidebar",{"is-open":a.value}])},[g(ke,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=u=>a.value=u)},null,8,["modelValue"]),g(he,{onFilter:t}),g(Ue)],2))}}),Ee=d(ze,[["__scopeId","data-v-17c218cd"]]),Oe={},Re={width:"23",height:"24",xmlns:"http://www.w3.org/2000/svg"},De=c("path",{d:"M11.5 2.274c2.237 0 4.339.854 5.923 2.408a8.123 8.123 0 012.465 5.839 8.084 8.084 0 01-1.7 4.979 8.457 8.457 0 01-3.652 2.71l-.31.112.003.826h.369c.262 0 .475.21.475.469a.47.47 0 01-.39.46l-.085.008h-.365l.004 1.02h.36c.263 0 .476.21.476.469a.47.47 0 01-.39.461l-.085.008h-.358l.006 1.487a.466.466 0 01-.381.46l-.094.01H9.23a.478.478 0 01-.466-.378l-.01-.092.006-1.487h-.357a.472.472 0 01-.475-.47.47.47 0 01.39-.46l.085-.008h.361l.004-1.02h-.365a.472.472 0 01-.475-.468.47.47 0 01.39-.462l.085-.007h.368l.004-.826a8.452 8.452 0 01-3.996-2.867 8.08 8.08 0 01-1.666-5.056c.032-2.127.923-4.152 2.511-5.7 1.508-1.471 3.448-2.322 5.493-2.416l.324-.009h.06zm1.791 19.769H9.709l-.004 1.02h3.59l-.004-1.02zm-.007-1.958H9.716l-.003 1.02h3.574l-.003-1.02zM11.5 3.212h-.054c-3.946.027-7.327 3.325-7.384 7.2-.048 3.266 2.14 6.192 5.322 7.118.174.05.3.193.332.364l.008.088-.004 1.166h3.56l-.004-1.166a.47.47 0 01.34-.452c3.134-.912 5.323-3.794 5.323-7.01a7.197 7.197 0 00-2.185-5.173A7.453 7.453 0 0011.5 3.212zm.829 1.782a.4.4 0 01.401.397v.322c.48.12.932.307 1.346.552l.228-.226a.405.405 0 01.569 0L16.046 7.2a.393.393 0 010 .56l-.23.228c.247.41.437.858.557 1.333h.323a.4.4 0 01.402.397v1.645a.4.4 0 01-.402.396h-.323c-.12.476-.31.924-.557 1.333l.23.228a.393.393 0 010 .56l-1.173 1.163a.405.405 0 01-.57 0l-.227-.227a5.02 5.02 0 01-1.346.553v.322a.4.4 0 01-.401.396H10.67a.4.4 0 01-.402-.396v-.322a5.022 5.022 0 01-1.345-.553l-.228.227a.405.405 0 01-.569 0L6.954 13.88a.393.393 0 010-.56l.23-.228a4.924 4.924 0 01-.557-1.333h-.324a.4.4 0 01-.401-.396V9.719a.4.4 0 01.401-.397h.324c.12-.475.31-.923.557-1.333l-.23-.228a.393.393 0 010-.56L8.127 6.04a.405.405 0 01.569 0l.228.226a5.021 5.021 0 011.345-.552V5.39a.4.4 0 01.402-.397zM11.5 7.721c-1.572 0-2.846 1.263-2.846 2.82 0 1.558 1.274 2.82 2.846 2.82s2.846-1.262 2.846-2.82c0-1.557-1.274-2.82-2.846-2.82zm11.025 4.152c.262 0 .475.21.475.469a.47.47 0 01-.39.461l-.085.008h-.498a.472.472 0 01-.475-.469.47.47 0 01.39-.461l.085-.008h.498zm-21.552 0c.262 0 .475.21.475.469a.47.47 0 01-.39.461l-.085.008H.475A.472.472 0 010 12.342a.47.47 0 01.39-.461l.085-.008h.498zM3.112 3.45l.074.06.46.451c.185.183.186.48 0 .663a.476.476 0 01-.596.062l-.075-.06-.459-.451a.465.465 0 01-.001-.663.48.48 0 01.597-.062zm17.373.062c.162.16.182.408.06.59l-.061.073-.46.45a.476.476 0 01-.67 0 .464.464 0 01-.06-.59l.06-.074.46-.45a.48.48 0 01.671 0zM11.5 0c.233 0 .427.166.467.384l.008.085v.49a.472.472 0 01-.475.468.473.473 0 01-.467-.384l-.008-.084v-.49c0-.26.213-.469.475-.469z",fill:"#FFF","fill-rule":"nonzero"},null,-1),Ne=[De];function Pe(e,s){return o(),i("svg",Re,Ne)}const He=d(Oe,[["render",Pe]]),We="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='13'%20height='11'%3e%3cpath%20fill='none'%20stroke='%23AD1FEA'%20stroke-width='2'%20d='M1%205.233L4.522%209%2012%201'/%3e%3c/svg%3e",qe={},je={width:"10",height:"7",xmlns:"http://www.w3.org/2000/svg"},Ge=c("path",{d:"M1 1l4 4 4-4","stroke-width":"2",fill:"none","fill-rule":"evenodd"},null,-1),Qe=[Ge];function Xe(e,s){return o(),i("svg",je,Qe)}const Ze=d(qe,[["render",Xe]]),Je={type:"button",class:"trigger-button"},Ke={class:"dropdown-list"},Ye=["onClick"],es={key:0,class:"dropdown-list__icon",src:We,alt:"Check icon"},ss=p({__name:"SortBySelect",props:{modelValue:{default:""},modelModifiers:{}},emits:["update:modelValue"],setup(e){const s=U(e,"modelValue"),t=v([x,P,H,W]),a=v(!1);return(l,n)=>{const u=O("dropdown-menu");return o(),_(u,{isOpen:a.value,onOpened:n[0]||(n[0]=r=>a.value=!0),onClosed:n[1]||(n[1]=r=>a.value=!1),overlay:!1},{trigger:f(()=>[c("button",Je,[R(" Sort by : "),c("span",null,y(s.value),1),a.value?(o(),_(oe,{key:0,class:"trigger-button__arrow"})):(o(),_(Ze,{key:1,class:"trigger-button__arrow"}))])]),body:f(()=>[c("ul",Ke,[(o(!0),i(b,null,k(t.value,r=>(o(),i("li",{class:"dropdown-list__item",key:r},[c("a",{href:"#",class:"dropdown-list__text",onClick:h=>s.value=r},y(r),9,Ye),r===s.value?(o(),i("img",es)):C("",!0)]))),128))])]),_:1},8,["isOpen"])}}}),ts=d(ss,[["__scopeId","data-v-562505cb"]]),os={class:"suggestions-header"},as={class:"suggestions-header__count h3"},ns=p({__name:"SuggestionsHeader",setup(e){const{suggestionsAmount:s,sortBy:t}=$(S()),{loadSuggestionsPageDataToStore:a}=S();function l(n){a({sortBy:n})}return(n,u)=>(o(),i("header",os,[g(He,{class:"suggestions-header__icon"}),c("div",as,y(m(s))+" Suggestions",1),g(ts,{"model-value":m(t),"onUpdate:modelValue":l},null,8,["model-value"]),g(D,{text:"+ Add Feedback",class:"suggestions-header__btn"})]))}}),cs=d(ns,[["__scopeId","data-v-1b543f98"]]),ls=p({__name:"SuggestionsList",setup(e){const{suggestions:s}=$(S()),{upvoteFeedback:t}=ae();return(a,l)=>(o(),_(K,{class:"suggestions-list",name:"list",tag:"ul"},{default:f(()=>[(o(!0),i(b,null,k(m(s),n=>(o(),_(ne,{key:n.id,suggestion:n,onUpvote:m(t)},null,8,["suggestion","onUpvote"]))),128))]),_:1}))}}),is=d(ls,[["__scopeId","data-v-16d23ba2"]]),rs="/product-feedback/assets/illustration-empty-6fFbLZNp.svg",I=e=>(B("data-v-b01e2a38"),e=e(),F(),e),us={class:"suggestions-empty"},ds={class:"suggestions-empty__in"},_s={class:"suggestions-empty__content"},gs=I(()=>c("img",{src:rs,alt:"No feedback image"},null,-1)),ps=I(()=>c("h1",{class:"suggestions-empty__title h1"},"There is no feedback yet.",-1)),ms=I(()=>c("p",{class:"suggestions-empty__description b1"}," Got a suggestion? Found a bug that needs to be squashed? We love hearing about new ideas to improve our app. ",-1)),hs=p({__name:"SuggestionsEmpty",setup(e){return(s,t)=>(o(),i("section",us,[c("div",ds,[c("div",_s,[gs,ps,ms,g(D,{text:"+ Add Feedback"})])])]))}}),vs=d(hs,[["__scopeId","data-v-b01e2a38"]]),fs={class:"skeleton-list"},bs=p({__name:"SuggestionsSkeleton",setup(e){return(s,t)=>(o(),i("ul",fs,[(o(),i(b,null,k(5,a=>g(ce,{key:a})),64))]))}}),Ss=d(bs,[["__scopeId","data-v-bd17cdb8"]]),ys={class:"main"},ks=p({__name:"TheSuggestions",setup(e){const{suggestions:s,loader:t,error:a}=$(S()),{loadCurrentUserToStore:l}=le(),{loadSuggestionsPageDataToStore:n}=S();return Y(()=>{l(),n()}),(u,r)=>(o(),_(ge,null,{sidebar:f(()=>[g(Ee)]),main:f(()=>[c("main",ys,[g(cs),g(ee,{name:"fade",mode:"out-in"},{default:f(()=>[m(t)||m(a)?(o(),_(Ss,{key:0})):m(s).length?(o(),_(is,{key:1})):(o(),_(vs,{key:2}))]),_:1})])]),_:1}))}}),$s=d(ks,[["__scopeId","data-v-59c03403"]]),As=p({__name:"SuggestionsView",setup(e){return(s,t)=>(o(),_($s))}});export{As as default};
