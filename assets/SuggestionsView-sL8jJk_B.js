import{_,o,c as r,a as n,r as A,d as g,b as P,F as S,e as $,f as d,u as D,g as M,h as m,n as U,i as B,T as j,p as x,j as T,s as w,k as q,l as h,m as G,q as z,t as L,v as p,w as b,x as O,y as Q,z as k,A as X,B as Z,C as J}from"./index-F0L5UXS0.js";import{U as K,I as Y,S as ee,a as se}from"./SuggestionsListItemSkeleton-7eoLVfSg.js";import{u as F}from"./statuses-uLBdJay9.js";import{A as te,c as V,M as C,L as E,a as N,b as R,U as H,u as oe,d as ae}from"./feedback-oF-jYbeK.js";import{_ as ne}from"./icon-check-cfLfX9pg.js";const ce={},le={class:"app-layout"},ie={class:"app-layout__col-1"},re={class:"app-layout__col-2"};function ue(e,s){return o(),r("section",le,[n("div",ie,[A(e.$slots,"sidebar",{},void 0,!0)]),n("div",re,[A(e.$slots,"main",{},void 0,!0)])])}const _e=_(ce,[["render",ue],["__scopeId","data-v-9e70f497"]]),de={class:"widget-categories"},pe=g({__name:"WidgetCategories",emits:["filter"],setup(e,{emit:s}){const t=s,a=P([{id:1,name:"all",label:"All",isActive:!0},{id:2,name:"ui",label:"UI",isActive:!1},{id:3,name:"ux",label:"UX",isActive:!1},{id:4,name:"enhancement",label:"Enhancement",isActive:!1},{id:5,name:"bug",label:"Bug",isActive:!1},{id:6,name:"feature",label:"Feature",isActive:!1}]);function c(l){a.forEach(u=>{u.isActive=l.id===u.id}),t("filter",l.name)}return(l,u)=>(o(),r("div",de,[(o(!0),r(S,null,$(a,i=>(o(),d(K,{key:i.id,name:i.label,"is-active":i.isActive,"is-clickable":"",onClick:y=>c(i)},null,8,["name","is-active","onClick"]))),128))]))}}),ge=_(pe,[["__scopeId","data-v-0688bb51"]]),W=e=>(x("data-v-8d50d79e"),e=e(),T(),e),me={class:"widget-top"},he=W(()=>n("div",{class:"widget-top__content"},[n("h2",{class:"h2 widget-top__title"},"Frontend Mentor"),n("h2",{class:"widget-top__subtitle"},"Feedback Board")],-1)),fe=W(()=>n("span",{class:"hamburger-box"},[n("span",{class:"hamburger-inner"})],-1)),ve=[fe],be=g({__name:"WidgetFeedbackBoard",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const s=D("(max-width: 767px)"),t=M(e,"modelValue"),a=()=>t.value=!t.value,c=()=>t.value=!1;return(l,u)=>(o(),r(S,null,[n("div",me,[he,m(s)?(o(),r("button",{key:0,class:U(["hamburger hamburger--collapse",{"is-active":t.value}]),type:"button",onClick:a},ve,2)):B("",!0)]),(o(),d(j,{to:"#app"},[m(s)&&t.value?(o(),r("div",{key:0,class:"backdrop",onClick:c})):B("",!0)]))],64))}}),Se=_(be,[["__scopeId","data-v-8d50d79e"]]);async function ye(){const e=await fetch(te);if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return await e.json()}function ke(e){return s=>e==="all"||e===s.category}function $e(e){return(s,t)=>{const a=s.comments?V(s.comments):0,c=t.comments?V(t.comments):0;return e===C?t.upvotes-s.upvotes:e===E?s.upvotes-t.upvotes:e===N?c-a:e===R?a-c:0}}function we(e,s){const{filterBy:t,sortBy:a}=w(f());return t.value=s.filterBy,a.value=s.sortBy,e.filter(ke(s.filterBy)).sort($e(s.sortBy))}const f=q("suggestions",()=>{const e=h(!0),s=h(null),t=h([]),a=h(C),c=h("all"),l=G(()=>t.value.length);async function u(y={filterBy:"all",sortBy:C}){e.value=!0;try{const v=await ye();return v?we(v,y):void 0}catch(v){s.value="Failed to fetch any suggestions",console.log(v)}finally{e.value=!1}}async function i(y={}){const v=await u({sortBy:y.sortBy??a.value,filterBy:y.filterBy??c.value});v&&(t.value=v)}return{suggestions:t,suggestionsAmount:l,loader:e,error:s,filterBy:c,sortBy:a,fetchSuggestions:u,loadSuggestionsToStore:i}}),Be=e=>(x("data-v-931c5afe"),e=e(),T(),e),Ce={class:"widget-roadmap"},xe={class:"widget-roadmap__top"},Te=Be(()=>n("h3",{class:"widget-roadmap__title h3"},"Roadmap",-1)),Ie={class:"feedback-statuses"},Ae={key:0,class:"feedback-statuses__item"},Fe={class:"feedback-statuses__label b1"},Ve={class:"feedback-statuses__amount b1"},Me=g({__name:"WidgetRoadmap",setup(e){const{statuses:s}=w(F()),{calculateStatusesAmount:t}=F(),{fetchSuggestions:a}=f();return z(async()=>{const c=await a();c&&t(c)}),(c,l)=>{const u=L("RouterLink");return o(),r("div",Ce,[n("div",xe,[Te,p(u,{class:"widget-roadmap__link link",to:"/"},{default:b(()=>[O("View")]),_:1})]),n("ul",Ie,[(o(!0),r(S,null,$(m(s),i=>(o(),r(S,{key:i.status},[i.status!=="suggestion"?(o(),r("li",Ae,[n("span",{class:"feedback-statuses__icon",style:Q({background:i.color})},null,4),n("div",Fe,k(i.label),1),n("div",Ve,k(i.amount),1)])):B("",!0)],64))),128))])])}}}),Ue=_(Me,[["__scopeId","data-v-931c5afe"]]),ze=g({__name:"TheSidebar",setup(e){const{loadSuggestionsToStore:s}=f();function t(c){s({filterBy:c})}const a=h(!1);return(c,l)=>(o(),r("aside",{class:U(["sidebar",{"is-open":a.value}])},[p(Se,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=u=>a.value=u)},null,8,["modelValue"]),p(ge,{onFilter:t}),p(Ue)],2))}}),Le=_(ze,[["__scopeId","data-v-8e624dec"]]),Oe={},Ee={width:"23",height:"24",xmlns:"http://www.w3.org/2000/svg"},Ne=n("path",{d:"M11.5 2.274c2.237 0 4.339.854 5.923 2.408a8.123 8.123 0 012.465 5.839 8.084 8.084 0 01-1.7 4.979 8.457 8.457 0 01-3.652 2.71l-.31.112.003.826h.369c.262 0 .475.21.475.469a.47.47 0 01-.39.46l-.085.008h-.365l.004 1.02h.36c.263 0 .476.21.476.469a.47.47 0 01-.39.461l-.085.008h-.358l.006 1.487a.466.466 0 01-.381.46l-.094.01H9.23a.478.478 0 01-.466-.378l-.01-.092.006-1.487h-.357a.472.472 0 01-.475-.47.47.47 0 01.39-.46l.085-.008h.361l.004-1.02h-.365a.472.472 0 01-.475-.468.47.47 0 01.39-.462l.085-.007h.368l.004-.826a8.452 8.452 0 01-3.996-2.867 8.08 8.08 0 01-1.666-5.056c.032-2.127.923-4.152 2.511-5.7 1.508-1.471 3.448-2.322 5.493-2.416l.324-.009h.06zm1.791 19.769H9.709l-.004 1.02h3.59l-.004-1.02zm-.007-1.958H9.716l-.003 1.02h3.574l-.003-1.02zM11.5 3.212h-.054c-3.946.027-7.327 3.325-7.384 7.2-.048 3.266 2.14 6.192 5.322 7.118.174.05.3.193.332.364l.008.088-.004 1.166h3.56l-.004-1.166a.47.47 0 01.34-.452c3.134-.912 5.323-3.794 5.323-7.01a7.197 7.197 0 00-2.185-5.173A7.453 7.453 0 0011.5 3.212zm.829 1.782a.4.4 0 01.401.397v.322c.48.12.932.307 1.346.552l.228-.226a.405.405 0 01.569 0L16.046 7.2a.393.393 0 010 .56l-.23.228c.247.41.437.858.557 1.333h.323a.4.4 0 01.402.397v1.645a.4.4 0 01-.402.396h-.323c-.12.476-.31.924-.557 1.333l.23.228a.393.393 0 010 .56l-1.173 1.163a.405.405 0 01-.57 0l-.227-.227a5.02 5.02 0 01-1.346.553v.322a.4.4 0 01-.401.396H10.67a.4.4 0 01-.402-.396v-.322a5.022 5.022 0 01-1.345-.553l-.228.227a.405.405 0 01-.569 0L6.954 13.88a.393.393 0 010-.56l.23-.228a4.924 4.924 0 01-.557-1.333h-.324a.4.4 0 01-.401-.396V9.719a.4.4 0 01.401-.397h.324c.12-.475.31-.923.557-1.333l-.23-.228a.393.393 0 010-.56L8.127 6.04a.405.405 0 01.569 0l.228.226a5.021 5.021 0 011.345-.552V5.39a.4.4 0 01.402-.397zM11.5 7.721c-1.572 0-2.846 1.263-2.846 2.82 0 1.558 1.274 2.82 2.846 2.82s2.846-1.262 2.846-2.82c0-1.557-1.274-2.82-2.846-2.82zm11.025 4.152c.262 0 .475.21.475.469a.47.47 0 01-.39.461l-.085.008h-.498a.472.472 0 01-.475-.469.47.47 0 01.39-.461l.085-.008h.498zm-21.552 0c.262 0 .475.21.475.469a.47.47 0 01-.39.461l-.085.008H.475A.472.472 0 010 12.342a.47.47 0 01.39-.461l.085-.008h.498zM3.112 3.45l.074.06.46.451c.185.183.186.48 0 .663a.476.476 0 01-.596.062l-.075-.06-.459-.451a.465.465 0 01-.001-.663.48.48 0 01.597-.062zm17.373.062c.162.16.182.408.06.59l-.061.073-.46.45a.476.476 0 01-.67 0 .464.464 0 01-.06-.59l.06-.074.46-.45a.48.48 0 01.671 0zM11.5 0c.233 0 .427.166.467.384l.008.085v.49a.472.472 0 01-.475.468.473.473 0 01-.467-.384l-.008-.084v-.49c0-.26.213-.469.475-.469z",fill:"#FFF","fill-rule":"nonzero"},null,-1),Re=[Ne];function He(e,s){return o(),r("svg",Ee,Re)}const We=_(Oe,[["render",He]]),Pe={},De={width:"10",height:"7",xmlns:"http://www.w3.org/2000/svg"},je=n("path",{d:"M1 1l4 4 4-4","stroke-width":"2",fill:"none","fill-rule":"evenodd"},null,-1),qe=[je];function Ge(e,s){return o(),r("svg",De,qe)}const Qe=_(Pe,[["render",Ge]]),Xe={type:"button",class:"trigger-button"},Ze={class:"dropdown-list"},Je=["onClick"],Ke={key:0,class:"dropdown-list__icon",src:ne,alt:"Check icon"},Ye=g({__name:"SortBySelect",props:{modelValue:{default:""},modelModifiers:{}},emits:["update:modelValue"],setup(e){const s=M(e,"modelValue"),t=h([C,E,N,R]),a=h(!1);return(c,l)=>{const u=L("dropdown-menu");return o(),d(u,{isOpen:a.value,onOpened:l[0]||(l[0]=i=>a.value=!0),onClosed:l[1]||(l[1]=i=>a.value=!1),overlay:!1},{trigger:b(()=>[n("button",Xe,[O(" Sort by Â "),n("span",null,k(s.value),1),a.value?(o(),d(Y,{key:0,class:"trigger-button__arrow"})):(o(),d(Qe,{key:1,class:"trigger-button__arrow"}))])]),body:b(()=>[n("ul",Ze,[(o(!0),r(S,null,$(t.value,i=>(o(),r("li",{class:"dropdown-list__item",key:i},[n("a",{href:"#",class:"dropdown-list__text",onClick:y=>s.value=i},k(i),9,Je),i===s.value?(o(),r("img",Ke)):B("",!0)]))),128))])]),_:1},8,["isOpen"])}}}),es=_(Ye,[["__scopeId","data-v-0340f7f6"]]),ss={class:"suggestions-header"},ts={class:"suggestions-header__count h3"},os=g({__name:"SuggestionsHeader",setup(e){const{suggestionsAmount:s,sortBy:t}=w(f()),{loadSuggestionsToStore:a}=f();function c(u){a({sortBy:u})}function l(){X.push("/create")}return(u,i)=>(o(),r("header",ss,[p(We,{class:"suggestions-header__icon"}),n("div",ts,k(m(s))+" Suggestions",1),p(es,{"model-value":m(t),"onUpdate:modelValue":c},null,8,["model-value"]),p(H,{text:"+ Add Feedback",class:"suggestions-header__btn",onClick:l})]))}}),as=_(os,[["__scopeId","data-v-19d44e02"]]),ns=g({__name:"SuggestionsList",setup(e){const{suggestions:s}=w(f()),{upvoteFeedback:t}=oe();return(a,c)=>(o(),d(Z,{class:"suggestions-list",name:"list",tag:"ul"},{default:b(()=>[(o(!0),r(S,null,$(m(s),l=>(o(),d(ee,{key:l.id,suggestion:l,onUpvote:m(t)},null,8,["suggestion","onUpvote"]))),128))]),_:1}))}}),cs=_(ns,[["__scopeId","data-v-16d23ba2"]]),ls="/product-feedback/assets/illustration-empty-6fFbLZNp.svg",I=e=>(x("data-v-b01e2a38"),e=e(),T(),e),is={class:"suggestions-empty"},rs={class:"suggestions-empty__in"},us={class:"suggestions-empty__content"},_s=I(()=>n("img",{src:ls,alt:"No feedback image"},null,-1)),ds=I(()=>n("h1",{class:"suggestions-empty__title h1"},"There is no feedback yet.",-1)),ps=I(()=>n("p",{class:"suggestions-empty__description b1"}," Got a suggestion? Found a bug that needs to be squashed? We love hearing about new ideas to improve our app. ",-1)),gs=g({__name:"SuggestionsEmpty",setup(e){return(s,t)=>(o(),r("section",is,[n("div",rs,[n("div",us,[_s,ds,ps,p(H,{text:"+ Add Feedback"})])])]))}}),ms=_(gs,[["__scopeId","data-v-b01e2a38"]]),hs={class:"skeleton-list"},fs=g({__name:"SuggestionsSkeleton",setup(e){return(s,t)=>(o(),r("ul",hs,[(o(),r(S,null,$(5,a=>p(se,{key:a})),64))]))}}),vs=_(fs,[["__scopeId","data-v-bd17cdb8"]]),bs={class:"main"},Ss=g({__name:"TheSuggestions",setup(e){const{suggestions:s,loader:t,error:a}=w(f()),{loadCurrentUserToStore:c}=ae(),{loadSuggestionsToStore:l}=f();return z(()=>{c(),l({filterBy:"all"})}),(u,i)=>(o(),d(_e,null,{sidebar:b(()=>[p(Le)]),main:b(()=>[n("main",bs,[p(as),p(J,{name:"fade",mode:"out-in"},{default:b(()=>[m(t)||m(a)?(o(),d(vs,{key:0})):m(s).length?(o(),d(cs,{key:1})):(o(),d(ms,{key:2}))]),_:1})])]),_:1}))}}),ys=_(Ss,[["__scopeId","data-v-40013bc2"]]),xs=g({__name:"SuggestionsView",setup(e){return(s,t)=>(o(),d(ys))}});export{xs as default};
