import{d as b,o as n,c as d,e as u,l as r,a1 as U,a as v,t as p,_ as x,F as k,b as C,v as A,a2 as V,w as _,m as y,P as L,g as T,n as R,s as D,y as G,q as K,B as M,i as g,k as S,T as N,a3 as $,a4 as I}from"./index-9Z1urJ9m.js";import{_ as z}from"./IconArrowLeft.vue_vue_type_script_setup_true_lang-fjX516O6.js";import{U as B,u as E}from"./feedback-a859bsk9.js";import{S as P}from"./SuggestionsListItem-PZMuBgTk.js";import{u as q}from"./suggestions-gf1SkaMo.js";const Q={class:"kanban-column__header"},W={class:"kanban-column__title h3"},j={class:"kanban-column__description b1"},J=b({__name:"ColumnHeader",props:{column:{}},setup(i){const e=i;return(s,a)=>(n(),d("header",Q,[u(r(U)),v("div",W,p(e.column.name)+" ("+p(e.column.items.length)+") ",1),v("div",j,p(e.column.description),1)]))}}),O=x(J,[["__scopeId","data-v-16b5b5a4"]]),X={class:"tabs-header"},Y=["onClick"],Z=b({__name:"TabsHeader",props:{columns:{},active:{}},emits:["click"],setup(i,{emit:e}){const s=i,a=e;function t(c){a("click",c)}return(c,l)=>(n(),d("nav",X,[(n(!0),d(k,null,C(s.columns,m=>(n(),d("a",{key:m.id,href:"#",class:A(["tabs-header__link",{"is-active":m.id===s.active}]),onClick:V(f=>t(m.id),["prevent"])},p(m.name)+" ("+p(m.items.length)+")",11,Y))),128))]))}}),ee=x(Z,[["__scopeId","data-v-a5bdf97e"]]),te={class:"suggestions-header"},se={class:"content"},ne={class:"content__title h1"},ae=b({__name:"TheHeader",props:{title:{}},setup(i){const e=i;function s(){y.push("/create")}function a(){y.back()}return(t,c)=>(n(),d("header",te,[v("div",se,[u(B,{class:"content__btn",type:"light",text:"Go Back",onClick:a},{default:_(()=>[u(z,{color:"#fff"})]),_:1}),v("h1",ne,p(e.title),1)]),u(B,{text:"+ Add Feedback",class:"suggestions-header__btn",onClick:s})]))}}),oe=x(ae,[["__scopeId","data-v-7aa78e09"]]);function ie(i,e){function s(t){return e.filter(({status:c})=>c===t)}function a(){return i.map(t=>({...t,items:s(t.id)}))}return a()}const F=L("roadmap",()=>{const{fetchSuggestions:i}=q(),e=T(!0),s=T(null),a=R({name:"Roadmap",columns:[{id:"planned",name:"Planned",description:"Ideas prioritized for research",color:"#F49F85",group:"items",items:[]},{id:"in-progress",name:"In-progress",description:"Currently being developed",color:"#AD1FEA",group:"items",items:[]},{id:"live",name:"Live",description:"Released features",color:"#62BCFA",group:"items",items:[]}]});async function t(){e.value=!0;try{const l=await i();return l?ie(a.columns,l):void 0}catch(l){s.value="Failed to load feedback",console.log(l)}finally{e.value=!1}}async function c(){const l=await t();l&&(a.columns=l)}return{loader:e,error:s,kanban:a,fetchKanbanColumns:t,loadRoadmapToStore:c}}),re={class:"kanban-board"},ce=b({__name:"TheRoadmap",setup(i){const{kanban:e}=D(F()),{loadRoadmapToStore:s}=F();G(s);const{upvoteFeedback:a}=E(),t=R({enable:K("(max-width: 767px)"),activeTab:"in-progress"}),c=M(()=>t.enable?"x":"y");function l(m){return t.enable?m.id===t.activeTab:!0}return(m,f)=>(n(),d("div",re,[u(oe,{title:r(e).name},null,8,["title"]),t.enable?(n(),g(ee,{key:0,columns:r(e).columns,active:t.activeTab,onClick:f[0]||(f[0]=o=>t.activeTab=o)},null,8,["columns","active"])):S("",!0),u(r(I),{list:r(e).columns,"onUpdate:list":f[1]||(f[1]=o=>r(e).columns=o),axis:c.value,"lock-axis":c.value,class:"column-container","use-drag-handle":"",useWindowAsScrollContainer:""},{default:_(()=>[u(N,{name:"list"},{default:_(()=>[(n(!0),d(k,null,C(r(e).columns,(o,w)=>(n(),d(k,{key:o.id},[l(o)?(n(),g(r($),{key:0,index:w,class:"kanban-column"},{default:_(()=>[u(O,{column:o},null,8,["column"]),u(r(I),{list:o.items,"onUpdate:list":h=>o.items=h,axis:"y",group:o.group,class:"kanban-list","helper-class":"kanban-helper"},{default:_(()=>[(n(!0),d(k,null,C(o.items,(h,H)=>(n(),g(r($),{key:h.id,index:H,class:"kanban-list-item"},{default:_(()=>[u(P,{class:"kanban-list-item-inner",type:"roadmap",suggestion:h,color:o.color,onUpvote:r(a)},null,8,["suggestion","color","onUpvote"])]),_:2},1032,["index"]))),128))]),_:2},1032,["list","onUpdate:list","group"])]),_:2},1032,["index"])):S("",!0)],64))),128))]),_:1})]),_:1},8,["list","axis","lock-axis"])]))}}),le=x(ce,[["__scopeId","data-v-f6051e32"]]),fe=b({__name:"RoadmapView",setup(i){return(e,s)=>(n(),g(le))}});export{fe as default};
